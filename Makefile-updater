reg_target = "./registration/registration-client/target"
out_put_dir = "1.1.1.0"
zip_generated_name = "mosip-sw-1.1.1.0.zip"



all:  global_build make_output_dir copy_necessary_files copy_libs push_to_minio

global_build:
	mvn clean install -Dmaven.test.skip=true -Dgpg.skip=true

make_output_dir:
	rm -rf $(out_put_dir) || true
	mkdir $(out_put_dir)

copy_necessary_files:
	cd $(out_put_dir) && rm -rf *
	cp $(reg_target)/$(zip_generated_name) $(out_put_dir)
	cp $(reg_target)/MANIFEST.MF $(out_put_dir)

copy_libs:
	cp -rv $(reg_target)/lib/* $(out_put_dir)/lib

push_to_minio:
	mc cp --r $(out_put_dir)  wuri/wuriguinea/registration-client/
